<!DOCTYPE html>
<html>
    <head>
        <title>Ejercicio08 - peticion XML</title>
        <meta charset="UTF-8">
        <script src="jquery-3.6.0.min.js"></script>
        <script>
            $(document).ready(iniciar);
            function iniciar(){

                $("#boton").click(function(){
                    cargarXML();
                });
            }
                function cargarXML(){
                    $.ajax({
                        method:"get",
                        url:"cd_catalog.xml"
                    })

                    .done(function(datos){
                        cargarTabla(datos);
                        alert("trabajo grabado con exito");
                    })

                    .fail(function(){
                        alert("ha existido un error")
                    })

                    .always(function(){
                        alert("trabajo realizado");
                    })
                }

                function cargarTabla(dat){
                    var listaCD = $(dat).find("CD");
                    for(i=0;i<listaCD.length;i++){
                        var titulo = $(listaCD).eq(i).find("TITLE").text();
                        //repetir para ARTISTA y PAIS
                        //grabarFila(titulo,artista,pais)
                        //situarte en la tabla y con .append(codigo html)
                    }
                    function grabarFila(titulo, artista, pais)
                }

                function grabarFila(titulo, artista, pais){
                    for(var i = 0; i<titulo.length;i++){
                        $("#tabla").append("<tr><td>"+titulo.eq(i)+"</td><td>"+artista.eq(i)+"</td><td>"+pais.eq(i)+"</td></tr>");
                    }
                }
        </script>
    </head>
    <body>
        <input type="button" id="boton" value="cargar xml"><br/>
        <table id="tabla" border="1">
            <tr>
                <th>TITULO</th>
                <th>ARTISTA</th>
                <th>PAIS</th>
            </tr>
        </table>
    </body>
</html>