<!DOCTYPE html>
<html>
    <head>
        <title>EJERCICIO04</title>
        <meta charset="UTF-8">
        <script>
            //esta función va a escribir las tablas de fisios y actividades
            function init(){
                var actividades = ["Crossfit","Zumba","Bodypump","Spinning","Pilates","Yoga"];
                var fisios = ["Marta","Marcos","Sergio","Laura","Ivan"];

                
                var tablaAct = document.getElementById("tablaActividades");
                var tablaFisios = document.getElementById("tablaFisios");
                tablaAct.setAttribute("border",1);
                tablaFisios.setAttribute("border",1);

                var filasAct = tablaAct.getElementsByTagName("tr");
                var filasFis = tablaFisios.getElementsByTagName("tr");

                //tabla de actividades
                for(var i = 1; i<7;i++){//filas
                    for(j = 1; j<7;j++){//columnas
                        if(i%2==0){
                            filasAct[i].innerHTML += "<td>"+actividades[i-1]+"</td>";
                        }else{
                            filasAct[i].innerHTML += "<td>"+actividades[j-1]+"</td>";
                        }
                    }
                }

                //tabla de fisios
                for(var i = 1; i<10;i++){//filas
                    for(j = 1; j<6;j++){//columnas
                        if(i%2==0){
                            filasFis[i].innerHTML += "<td>"+fisios[i/2]+"</td>";
                        }else{
                            filasFis[i].innerHTML += "<td>"+fisios[j-1]+"</td>";
                        }
                    }
                }
            }

            //Esta función nos va a filtrar las actividades señaladas
            function mostrarAct(){
                var activ = document.getElementsByName("actividades");
                var tablaActiv = document.getElementById("tablaActividades");
                var celdasActiv = tablaActiv.getElementsByTagName("td");
                var selects = [];
                
                //Recoge los valores marcados y los mete en un array
                for(var i = 0; i<activ.length;i++){
                    if(activ[i].checked==true){
                        selects.push(activ[i].value);
                    }
                }

                //Tenemos el array. Machacamos el estilo de las celdas, así no se nos acoplarán las celdas seleccionadas si queremos volver a elegir otras distintas...
                for(var i = 0; i<=5;i++){
                    for(var j=0; j<=celdasActiv.length-1;j++){
                        celdasActiv[j].style.backgroundColor="white";
                        celdasActiv[j].style.fontWeight="normal";
                    }
                }

                //Recorremos for de celdas y el de los valores. Les damos el estilo.
                for(var i = 0; i<=celdasActiv.length-1;i++){
                    for(var j = 0; j<=selects.length-1;j++){
                        if(celdasActiv[i].innerHTML == selects[j]){
                            celdasActiv[i].style.backgroundColor="lightgreen";
                            celdasActiv[i].style.fontWeight="bold";
                        }
                    }
                }
            }


            //Esta función va a mostrar el fisio indicado
            function mostrarFis(){
                //Variable fisio para recoger los elementos con nombre "fisio" del documento
                var fisio = document.getElementsByName("fisio");
                //Variable tablaFisios para recoger el elemento por ID "tablafisios" del documento
                var tablaFisios = document.getElementById("tablaFisios");
                //Recogemos todas las celdas (td) de la tabla anterior
                var celdasFisios = tablaFisios.getElementsByTagName("td");
                var seleccionado = "";

                //Recogemos valor seleccionado
                for(var i = 0; i<fisio.length;i++){
                    if(fisio[i].checked==true){
                        //Si coincide (checked) es true y lo almacena en "seleccionado"...
                        seleccionado =fisio[i].value;
                    }
                }

                //recorremos el array de celdas
                for(var i = 0; i<=6;i++){
                    for(var j=0;j<=celdasFisios.length-1;j++){
                        //Si coincide con el valor guardado aplicamos estilo...
                        if(celdasFisios[j].innerHTML == seleccionado){
                            celdasFisios[j].style.backgroundColor="lightskyblue";
                            celdasFisios[j].style.fontWeight="bold";
                        }else{
                            //en este caso, al solo poder seleccionar 1, no hace falta machacar el estilo. Si no coincide, entonces...
                            celdasFisios[j].style.backgroundColor="white";
                            celdasFisios[j].style.fontWeight="normal";
                        }
                    }
                }
            }
        </script>


    </head>
    <body>
        <h2>HORARIO ACTIVIDADES GIMASIO</h2>

        <!--Tabla actividades con horas y días a mano-->
        <table id="tablaActividades">
            <tbody>
                <tr>
                    <th></th>
                    <th>LUNES</th>
                    <th>MARTES</th>
                    <th>MIERCOLES</th>
                    <th>JUEVES</th>
                    <th>VIERNES</th>
                    <th>SABADO</th>
                </tr>
                <tr><td>07:00 - 09:00</td></tr>
                <tr><td>09:00 - 11:00</td></tr>
                <tr><td>11:00 - 13:00</td></tr>
                <tr><td>13:00 - 15:00</td></tr>
                <tr><td>17:00 - 19:00</td></tr>
                <tr><td>19:00 - 21:00</td></tr>
            </tbody>
        </table>
        <br/>

        <!--Tabla fisios con horas y días a mano-->
        <h2>HORARIO FISIOS</h2>
        <table id="tablaFisios">
            <tbody>
                <tr>
                    <th></th>
                    <th>LUNES</th>
                    <th>MARTES</th>
                    <th>MIERCOLES</th>
                    <th>JUEVES</th>
                    <th>VIERNES</th>
                </tr>
                <tr><td>10:00 - 10:45</td></tr>
                <tr><td>10:45 - 11:30</td></tr>
                <tr><td>11:30 - 12:15</td></tr>
                <tr><td>12:15 - 13:00</td></tr>
                <tr><td>13:00 - 13:45</td></tr>
                <tr><td>17:00 - 17:45</td></tr>
                <tr><td>17:45 - 18:30</td></tr>
                <tr><td>18:30 - 19:15</td></tr>
                <tr><td>19:15 - 20:45</td></tr>
            </tbody>
        </table>
        <hr>
        <br>
        <p>Si desea consultar cualquiera de nuestras actividades o fisios en concreto, márquelos en los siguientes formularios.<br/>
            Marque la opción u opciones que desea consultar y seguidamente, pulse en "MOSTRAR".</p>
        <!--Formulario de actividades (checkbox porque se puede escoger varias)-->
        <form id="formulario" name="formAct">
            <label for="actividades">ACTIVIDADES:</label><br/>
            <input type="checkbox" name="actividades" value="Crossfit">CROSSFIT<br/>
            <input type="checkbox" name="actividades" value="Zumba">ZUMBA<br/>
            <input type="checkbox" name="actividades" value="Bodypump">BODYPUMP<br/>
            <input type="checkbox" name="actividades" value="Spinning">SPINNING<br/>
            <input type="checkbox" name="actividades" value="Pilates">PILATES<br/>
            <input type="checkbox" name="actividades" value="Yoga">YOGA<br/>
            <input type="button" id="boton1" value="MOSTRAR" onclick="mostrarAct()">
        </form>
        <br/>
        <!--Formulario de fisio (radiobutton, solo se puede escoger una)-->
        <form id="formulario" name="formFis">
            <label for="fisio">FISIO:</label><br/>
            <input type="radio" name="fisio" value="Marta">MARTA<br/>
            <input type="radio" name="fisio" value="Marcos">MARCOS<br/>
            <input type="radio" name="fisio" value="Sergio">SERGIO<br/>
            <input type="radio" name="fisio" value="Laura">LAURA<br/>
            <input type="radio" name="fisio" value="Ivan">IVÁN<br/>
            <input type="button" id="boton2" value="MOSTRAR" onclick="mostrarFis()">
        </form>
        <script>
            //funcion de generar tablas
            init();
        </script>
    </body>
</html>